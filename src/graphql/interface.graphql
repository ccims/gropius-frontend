fragment DefaultInterfaceDefinitionInfo on InterfaceDefinition {
    id
    visibleSelfDefined
    invisibleSelfDefined
    visibleDerivedBy {
        totalCount
    }
    invisibleDerivedBy {
        totalCount
    }
}

query getInterfaceDefinitionList(
    $orderBy: [InterfaceDefinitionOrder!]!
    $count: Int!
    $skip: Int!
    $componentVersion: ID!,
    $filter: InterfaceDefinitionFilterInput!
) {
    node(id: $componentVersion) {
        ... on ComponentVersion {
            interfaceDefinitions(orderBy: $orderBy, first: $count, skip: $skip, filter: $filter) {
                nodes {
                    ...DefaultInterfaceDefinitionInfo
                    interfaceSpecificationVersion {
                        id
                        version
                        interfaceSpecification {
                            id
                            name
                            description
                            template {
                                id
                                name
                                description
                            }
                        }
                    }
                }
                totalCount
            }
        }
    }
}

query getFilteredInterfaceDefinitionList($query: String!, $count: Int!, $specificationFilter: InterfaceSpecificationFilterInput!, $versionFilter: InterfaceSpecificationVersionFilterInput!, $definitionFilter: InterfaceDefinitionFilterInput!) {
    searchInterfaceSpecifications(query: $query, first: $count, filter: $specificationFilter) {
        id
        name
        description
        template {
            id
            name
            description
        }
        versions(filter: $versionFilter, first: $count) {
            nodes {
                id
                version
                interfaceDefinitions(filter: $definitionFilter) {
                    nodes {
                        ...DefaultInterfaceDefinitionInfo
                    }
                }
            }
        }
    }
}

mutation addInterfaceSpecificationVersionToComponentVersion($input: AddInterfaceSpecificationVersionToComponentVersionInput!) {
    addInterfaceSpecificationVersionToComponentVersion(input: $input) {
        __typename
    }
}

mutation removeInterfaceSpecificationVersionFromComponentVersion($input: RemoveInterfaceSpecificationVersionFromComponentVersionInput!) {
    removeInterfaceSpecificationVersionFromComponentVersion(input: $input) {
        __typename
    }
}